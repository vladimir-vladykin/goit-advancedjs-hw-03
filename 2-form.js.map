{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const FORM_DATA_STORAGE_KEY = 'feedback-form-state';\n\nconst formData = getInitialFormData();\nconsole.log(`Initial form data is ${formData}`);\n\nconst feedbackForm = document.querySelector('.feedback-form');\nconst emailInput = document.querySelector('.feedback-form input[name=email]');\nconst messageInput = document.querySelector(\n  '.feedback-form textarea[name=message]'\n);\n\nemailInput.value = formData.email;\nmessageInput.value = formData.message;\n\nfeedbackForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const email = emailInput.value.trim();\n  const message = messageInput.value.trim();\n\n  if (email === '' || message === '') {\n    alert('Fill please all fields');\n    return;\n  }\n\n  formData.email = email;\n  formData.message = message;\n\n  console.log(formData);\n  clearAll();\n});\n\nemailInput.addEventListener('input', event => {\n  const input = event.currentTarget.value.trim();\n  formData.email = input;\n  saveFormDataToLocalStorage();\n});\nmessageInput.addEventListener('input', event => {\n  const input = event.currentTarget.value.trim();\n  formData.message = input;\n  saveFormDataToLocalStorage();\n});\n\nfunction saveFormDataToLocalStorage() {\n  localStorage.setItem(FORM_DATA_STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction getInitialFormData() {\n  const rawFormData = localStorage.getItem(FORM_DATA_STORAGE_KEY);\n  if (!rawFormData) {\n    return {\n      email: '',\n      message: '',\n    };\n  }\n\n  return JSON.parse(rawFormData);\n}\n\nfunction clearAll() {\n  feedbackForm.reset();\n  formData.email = '';\n  formData.message = '';\n\n  localStorage.removeItem(FORM_DATA_STORAGE_KEY);\n}\n"],"names":["FORM_DATA_STORAGE_KEY","formData","getInitialFormData","feedbackForm","emailInput","messageInput","event","email","message","clearAll","input","saveFormDataToLocalStorage","rawFormData"],"mappings":"wFAAA,MAAMA,EAAwB,sBAExBC,EAAWC,EAAkB,EACnC,QAAQ,IAAI,wBAAwBD,CAAQ,EAAE,EAE9C,MAAME,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAa,SAAS,cAAc,kCAAkC,EACtEC,EAAe,SAAS,cAC5B,uCACF,EAEAD,EAAW,MAAQH,EAAS,MAC5BI,EAAa,MAAQJ,EAAS,QAE9BE,EAAa,iBAAiB,SAAUG,GAAS,CAC/CA,EAAM,eAAc,EAEpB,MAAMC,EAAQH,EAAW,MAAM,KAAI,EAC7BI,EAAUH,EAAa,MAAM,KAAI,EAEvC,GAAIE,IAAU,IAAMC,IAAY,GAAI,CAClC,MAAM,wBAAwB,EAC9B,MACD,CAEDP,EAAS,MAAQM,EACjBN,EAAS,QAAUO,EAEnB,QAAQ,IAAIP,CAAQ,EACpBQ,GACF,CAAC,EAEDL,EAAW,iBAAiB,QAASE,GAAS,CAC5C,MAAMI,EAAQJ,EAAM,cAAc,MAAM,KAAI,EAC5CL,EAAS,MAAQS,EACjBC,GACF,CAAC,EACDN,EAAa,iBAAiB,QAASC,GAAS,CAC9C,MAAMI,EAAQJ,EAAM,cAAc,MAAM,KAAI,EAC5CL,EAAS,QAAUS,EACnBC,GACF,CAAC,EAED,SAASA,GAA6B,CACpC,aAAa,QAAQX,EAAuB,KAAK,UAAUC,CAAQ,CAAC,CACtE,CAEA,SAASC,GAAqB,CAC5B,MAAMU,EAAc,aAAa,QAAQZ,CAAqB,EAC9D,OAAKY,EAOE,KAAK,MAAMA,CAAW,EANpB,CACL,MAAO,GACP,QAAS,EACf,CAIA,CAEA,SAASH,GAAW,CAClBN,EAAa,MAAK,EAClBF,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAEnB,aAAa,WAAWD,CAAqB,CAC/C"}